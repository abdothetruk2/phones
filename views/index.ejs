<!DOCTYPE html>
<html>
<head>
  <title>Vue + EJS</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="app">
    <h1>{{ message }}</h1>
    <input v-model="message" />

    <form @submit.prevent="submitForm">
      <input v-model="username" name="username" placeholder="Username" required />
      <input type="password" name="password" v-model="password" placeholder="Password" required />
      <button type="submit">Submit</button>
    </form>

    <div v-if="loading" class="loading">Loading...</div>
    <div v-if="successMessage" class="success">{{ successMessage }}</div>
    <div v-if="errorMessage" class="error">{{ errorMessage }}</div>

    <div id="data" v-if="result && result.length > 0">
      <table class="data-table">
        <thead>
          <tr>
            <th>Number</th>
            <th>Package</th>
            <th>Minutes</th>
            <th>Internet</th>
            <th>Timestamp</th>
          </tr> 
        </thead>
        <tbody>
          <tr v-for="(item, index) in result" :key="index">
            <td>{{ item.number || 'Not found' }}</td>
            <td>{{ item.package || 'Not found' }}</td>
            <td>{{ item.minutes || 'Not found' }}</td>
            <td>{{ item.internet || 'Not found' }}</td>
            <td>{{ item.timestamp || 'Not found' }}</td>
          </tr>
        </tbody>
      </table>

      <!-- Additional data display -->
      <div class="info" v-if="result.length > 0">
        <p><strong>Total Records:</strong> {{ result.length }}</p>
      </div>
    </div> 

  </div>
  <!-- Vue JS CDN or from /public/js/app.js -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>